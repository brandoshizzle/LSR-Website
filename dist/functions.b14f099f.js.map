{"version":3,"sources":["assets/js/functions.js"],"names":["$","document","ready","canScroll","scrollController","on","e","hasClass","preventDefault","delta","originalEvent","wheelDelta","detail","clearTimeout","setTimeout","updateHelper","click","$this","curActive","parent","find","curPos","children","index","nextPos","lastItem","length","updateNavs","updateContent","attr","targetElement","getElementById","mc","Hammer","param","type","keyCode","removeClass","eq","addClass","get","set","direction","DIRECTION_VERTICAL","keyup","curLeft","curLeftPos","curCenter","curCenterPos","curRight","curRightPos","totalWorks","$left","$center","$right","$item","animate","opacity","next","first","prev","last","focusout","val","window","scrollTo"],"mappings":"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","file":"functions.b14f099f.js","sourceRoot":"..","sourcesContent":["// @codekit-prepend \"/vendor/hammer-2.0.8.js\";\n\n$(document).ready(function () {\n\t// DOMMouseScroll included for firefox support\n\tvar canScroll = true,\n\t\tscrollController = null;\n\t$(this).on('mousewheel DOMMouseScroll', function (e) {\n\t\tif (!$('.outer-nav').hasClass('is-vis')) {\n\t\t\te.preventDefault();\n\n\t\t\tvar delta = e.originalEvent.wheelDelta ? -e.originalEvent.wheelDelta : e.originalEvent.detail * 20;\n\n\t\t\tif (delta > 50 && canScroll) {\n\t\t\t\tcanScroll = false;\n\t\t\t\tclearTimeout(scrollController);\n\t\t\t\tscrollController = setTimeout(function () {\n\t\t\t\t\tcanScroll = true;\n\t\t\t\t}, 800);\n\t\t\t\tupdateHelper(1);\n\t\t\t} else if (delta < -50 && canScroll) {\n\t\t\t\tcanScroll = false;\n\t\t\t\tclearTimeout(scrollController);\n\t\t\t\tscrollController = setTimeout(function () {\n\t\t\t\t\tcanScroll = true;\n\t\t\t\t}, 800);\n\t\t\t\tupdateHelper(-1);\n\t\t\t}\n\t\t}\n\t});\n\n\t$('.side-nav li, .outer-nav li').click(function () {\n\t\tif (!$(this).hasClass('is-active')) {\n\t\t\tvar $this = $(this),\n\t\t\t\tcurActive = $this.parent().find('.is-active'),\n\t\t\t\tcurPos = $this.parent().children().index(curActive),\n\t\t\t\tnextPos = $this.parent().children().index($this),\n\t\t\t\tlastItem = $(this).parent().children().length - 1;\n\t\t\tupdateNavs(nextPos);\n\t\t\tupdateContent(curPos, nextPos, lastItem);\n\t\t}\n\t});\n\n\t$('.intro-links').click(function () {\n\t\tvar $this = $(this),\n\t\t\tcurActive = $('.side-nav').find('.is-active'),\n\t\t\tcurPos = $('.side-nav').children().index(curActive),\n\t\t\tnextPos = $(`#${$this.attr('data-link')}-link`).index(),\n\t\t\tlastItem = $('.side-nav').children().length - 1;\n\t\tupdateNavs(nextPos);\n\t\tupdateContent(curPos, nextPos, lastItem);\n\t});\n\n\t$('.cta').click(function () {\n\t\tvar curActive = $('.side-nav').find('.is-active'),\n\t\t\tcurPos = $('.side-nav').children().index(curActive),\n\t\t\tlastItem = $('.side-nav').children().length - 1,\n\t\t\tnextPos = lastItem;\n\n\t\tupdateNavs(lastItem);\n\t\tupdateContent(curPos, nextPos, lastItem);\n\t});\n\n\t// swipe support for touch devices\n\tvar targetElement = document.getElementById('viewport'),\n\t\tmc = new Hammer(targetElement);\n\tmc.get('swipe').set({ direction: Hammer.DIRECTION_VERTICAL });\n\tmc.on('swipeup swipedown', function (e) {\n\t\tupdateHelper(e);\n\t});\n\n\t$(document).keyup(function (e) {\n\t\tif (!$('.outer-nav').hasClass('is-vis')) {\n\t\t\te.preventDefault();\n\t\t\tupdateHelper(e);\n\t\t}\n\t});\n\n\t// determine scroll, swipe, and arrow key direction\n\tfunction updateHelper(param) {\n\t\tvar curActive = $('.side-nav').find('.is-active'),\n\t\t\tcurPos = $('.side-nav').children().index(curActive),\n\t\t\tlastItem = $('.side-nav').children().length - 1,\n\t\t\tnextPos = 0;\n\n\t\tif (param.type === 'swipeup' || param.keyCode === 40 || param > 0) {\n\t\t\tif (curPos !== lastItem) {\n\t\t\t\tnextPos = curPos + 1;\n\t\t\t\tupdateNavs(nextPos);\n\t\t\t\tupdateContent(curPos, nextPos, lastItem);\n\t\t\t} else {\n\t\t\t\tupdateNavs(nextPos);\n\t\t\t\tupdateContent(curPos, nextPos, lastItem);\n\t\t\t}\n\t\t} else if (param.type === 'swipedown' || param.keyCode === 38 || param < 0) {\n\t\t\tif (curPos !== 0) {\n\t\t\t\tnextPos = curPos - 1;\n\t\t\t\tupdateNavs(nextPos);\n\t\t\t\tupdateContent(curPos, nextPos, lastItem);\n\t\t\t} else {\n\t\t\t\tnextPos = lastItem;\n\t\t\t\tupdateNavs(nextPos);\n\t\t\t\tupdateContent(curPos, nextPos, lastItem);\n\t\t\t}\n\t\t}\n\t}\n\n\t// sync side and outer navigations\n\tfunction updateNavs(nextPos) {\n\t\t$('.side-nav, .outer-nav').children().removeClass('is-active');\n\t\t$('.side-nav').children().eq(nextPos).addClass('is-active');\n\t\t$('.outer-nav').children().eq(nextPos).addClass('is-active');\n\t}\n\n\t// update main content area\n\tfunction updateContent(curPos, nextPos, lastItem) {\n\t\t$('.main-content').children().removeClass('section--is-active');\n\t\t$('.main-content').children().eq(nextPos).addClass('section--is-active');\n\t\t$('.main-content .section').children().removeClass('section--next section--prev');\n\n\t\tif ((curPos === lastItem && nextPos === 0) || (curPos === 0 && nextPos === lastItem)) {\n\t\t\t$('.main-content .section').children().removeClass('section--next section--prev');\n\t\t} else if (curPos < nextPos) {\n\t\t\t$('.main-content').children().eq(curPos).children().addClass('section--next');\n\t\t} else {\n\t\t\t$('.main-content').children().eq(curPos).children().addClass('section--prev');\n\t\t}\n\n\t\tif (nextPos !== 0 && nextPos !== lastItem) {\n\t\t\t$('.header--cta').addClass('is-active');\n\t\t} else {\n\t\t\t$('.header--cta').removeClass('is-active');\n\t\t}\n\t}\n\n\tfunction outerNav() {\n\t\t$('.header--nav-toggle').click(function () {\n\t\t\t$('.perspective').addClass('perspective--modalview');\n\t\t\tsetTimeout(function () {\n\t\t\t\t$('.perspective').addClass('effect-rotate-left--animate');\n\t\t\t}, 25);\n\t\t\t$('.outer-nav, .outer-nav li, .outer-nav--return').addClass('is-vis');\n\t\t});\n\n\t\t$('.outer-nav--return, .outer-nav li').click(function () {\n\t\t\t$('.perspective').removeClass('effect-rotate-left--animate');\n\t\t\tsetTimeout(function () {\n\t\t\t\t$('.perspective').removeClass('perspective--modalview');\n\t\t\t}, 400);\n\t\t\t$('.outer-nav, .outer-nav li, .outer-nav--return').removeClass('is-vis');\n\t\t});\n\t}\n\n\tfunction workSlider() {\n\t\t$('.slider--prev, .slider--next').click(function () {\n\t\t\tvar $this = $(this),\n\t\t\t\tcurLeft = $('.slider').find('.slider--item-left'),\n\t\t\t\tcurLeftPos = $('.slider').children().index(curLeft),\n\t\t\t\tcurCenter = $('.slider').find('.slider--item-center'),\n\t\t\t\tcurCenterPos = $('.slider').children().index(curCenter),\n\t\t\t\tcurRight = $('.slider').find('.slider--item-right'),\n\t\t\t\tcurRightPos = $('.slider').children().index(curRight),\n\t\t\t\ttotalWorks = $('.slider').children().length,\n\t\t\t\t$left = $('.slider--item-left'),\n\t\t\t\t$center = $('.slider--item-center'),\n\t\t\t\t$right = $('.slider--item-right'),\n\t\t\t\t$item = $('.slider--item');\n\n\t\t\t$('.slider').animate({ opacity: 0 }, 400);\n\n\t\t\tsetTimeout(function () {\n\t\t\t\tif ($this.hasClass('slider--next')) {\n\t\t\t\t\tif (curLeftPos < totalWorks - 1 && curCenterPos < totalWorks - 1 && curRightPos < totalWorks - 1) {\n\t\t\t\t\t\t$left.removeClass('slider--item-left').next().addClass('slider--item-left');\n\t\t\t\t\t\t$center.removeClass('slider--item-center').next().addClass('slider--item-center');\n\t\t\t\t\t\t$right.removeClass('slider--item-right').next().addClass('slider--item-right');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (curLeftPos === totalWorks - 1) {\n\t\t\t\t\t\t\t$item.removeClass('slider--item-left').first().addClass('slider--item-left');\n\t\t\t\t\t\t\t$center.removeClass('slider--item-center').next().addClass('slider--item-center');\n\t\t\t\t\t\t\t$right.removeClass('slider--item-right').next().addClass('slider--item-right');\n\t\t\t\t\t\t} else if (curCenterPos === totalWorks - 1) {\n\t\t\t\t\t\t\t$left.removeClass('slider--item-left').next().addClass('slider--item-left');\n\t\t\t\t\t\t\t$item.removeClass('slider--item-center').first().addClass('slider--item-center');\n\t\t\t\t\t\t\t$right.removeClass('slider--item-right').next().addClass('slider--item-right');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$left.removeClass('slider--item-left').next().addClass('slider--item-left');\n\t\t\t\t\t\t\t$center.removeClass('slider--item-center').next().addClass('slider--item-center');\n\t\t\t\t\t\t\t$item.removeClass('slider--item-right').first().addClass('slider--item-right');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (curLeftPos !== 0 && curCenterPos !== 0 && curRightPos !== 0) {\n\t\t\t\t\t\t$left.removeClass('slider--item-left').prev().addClass('slider--item-left');\n\t\t\t\t\t\t$center.removeClass('slider--item-center').prev().addClass('slider--item-center');\n\t\t\t\t\t\t$right.removeClass('slider--item-right').prev().addClass('slider--item-right');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (curLeftPos === 0) {\n\t\t\t\t\t\t\t$item.removeClass('slider--item-left').last().addClass('slider--item-left');\n\t\t\t\t\t\t\t$center.removeClass('slider--item-center').prev().addClass('slider--item-center');\n\t\t\t\t\t\t\t$right.removeClass('slider--item-right').prev().addClass('slider--item-right');\n\t\t\t\t\t\t} else if (curCenterPos === 0) {\n\t\t\t\t\t\t\t$left.removeClass('slider--item-left').prev().addClass('slider--item-left');\n\t\t\t\t\t\t\t$item.removeClass('slider--item-center').last().addClass('slider--item-center');\n\t\t\t\t\t\t\t$right.removeClass('slider--item-right').prev().addClass('slider--item-right');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$left.removeClass('slider--item-left').prev().addClass('slider--item-left');\n\t\t\t\t\t\t\t$center.removeClass('slider--item-center').prev().addClass('slider--item-center');\n\t\t\t\t\t\t\t$item.removeClass('slider--item-right').last().addClass('slider--item-right');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 400);\n\n\t\t\t$('.slider').animate({ opacity: 1 }, 400);\n\t\t});\n\t}\n\n\tfunction transitionLabels() {\n\t\t$('.work-request--information input').focusout(function () {\n\t\t\tvar textVal = $(this).val();\n\n\t\t\tif (textVal === '') {\n\t\t\t\t$(this).removeClass('has-value');\n\t\t\t} else {\n\t\t\t\t$(this).addClass('has-value');\n\t\t\t}\n\n\t\t\t// correct mobile device window position\n\t\t\twindow.scrollTo(0, 0);\n\t\t});\n\t}\n\n\touterNav();\n\tworkSlider();\n\ttransitionLabels();\n});\n"]}